<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My Portfolio</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="static/style.css" rel="stylesheet">
</head>

<body>
    <div class="container-fluid">
        <div class="row">
	    <div class="col-lg-10"><h1>Portfolio Overview</h1></div>
	    <div class="col-lg-2">{{ foliouser }}</div>
	</div>
	<h3>
	    <a href='/trade' class='btn'>Enter transaction</a>
	    <a href='/newstock' class='btn'>Track new stock</a>
	    <a href='/transactions?page=0&pagesize=10' class='btn'>View transactions</a>
	    <a href='/logout' class='btn'>Logout</a>
	</h3>
	
        <div id="nameInput" class="input-group-lg center-block helloInput col-lg-12">
            <p class="lead">Portfolio: {{ portfolioname }}</p>
	    <p class="infoheader">Total Portfolio Value: $ {{ portfoliovalue }}</p>
	    <p class="statusnotice">{{ foliostatus }}</p>
	    
	{% for subcategory in portfoliodata.values() %}
	    <div id="nameInput" class="input-group-lg center-block helloInput col-lg-12"><p>
		<div class="headers col-lg-12">
		    <div class="row">
			<div class="categoryheader col-lg-4"><h3>{{ subcategory.type }}</h3></div>
			<div class="categoryheader col-lg-4"><h4>Target: {{ subcategory.target_percentage }} %</h4></div>
			<div class="categoryheader col-lg-4"><h4>Actual: {{ subcategory.actual_percentage }} %</h4></div>
		    </div>
		</div>
		<div class="category">
		    <div class="row">
			<div class="stockheader col-lg-1">Symbol</div>
			<div class="stockheader col-lg-2">Name</div>
			<div class="stockheader col-lg-1">Price</div>
			<div class="stockheader col-lg-1">Buy Below</div>
			<div class="stockheader col-lg-1">Qty Owned</div>
			<div class="stockheader col-lg-1">Value</div>
			<div class="stockheader col-lg-5">Comments</div>
		    </div>
		    
		{% for stock in subcategory['holdings'] %}
		    <div class="row stockrow">
			<div class="stockline col-lg-1">{{ stock.symbol }}</div>
			<div class="stockline col-lg-2">{{ stock.name }}</div>
			<div class="stocklinedollar col-lg-1">{{ stock.price }}</div>
			<div class="stocklinedollar col-lg-1"><a href='/updatestock?symbol={{ stock.symbol }}'>{{ stock.buy_below }}</a></div>
			<div class="stocklinedollar col-lg-1">{{ stock.qty }}</div>
			<div class="stocklinedollar col-lg-1">{{ stock.value }}</div>
			<div class="stockline col-lg-5">{{ stock.comments }}</div>
		    </div>
		{% endfor %}
		</div></p>
		<hr>
	    </div>
	{% endfor %}
        </div>
        <p id="response" class="lead text-center"></p>

        <p id="databaseNames" class="lead text-center"></p>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</body>

</html>
